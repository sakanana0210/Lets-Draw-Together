"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/drawing",{

/***/ "./pages/drawing/components/DrawingCanvas.js":
/*!***************************************************!*\
  !*** ./pages/drawing/components/DrawingCanvas.js ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var _store_actions_actionCreators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../store/actions/actionCreators */ \"./store/actions/actionCreators.js\");\n/* harmony import */ var _styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/drawingCanvas.module.scss */ \"./pages/drawing/styles/drawingCanvas.module.scss\");\n/* harmony import */ var _styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils_rgbToHsv__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/rgbToHsv */ \"./utils/rgbToHsv.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fabric */ \"./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _barrel_optimize_names_AiOutlineMinusCircle_AiOutlinePlusCircle_react_icons_ai__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AiOutlineMinusCircle,AiOutlinePlusCircle!=!react-icons/ai */ \"__barrel_optimize__?names=AiOutlineMinusCircle,AiOutlinePlusCircle!=!./node_modules/react-icons/ai/index.esm.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n// import _ from 'lodash';\nfunction CanvasApp() {\n    _s();\n    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const selectedTool = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.tool.selectedTool);\n    const selectedRGB = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.canvas.selectedRGB);\n    const painting = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.canvas.painting);\n    const selectedBrushSize = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.brush.brushSize);\n    const selectedBrushOpacity = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.brush.brushOpacity);\n    const selectedEraserSize = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.brush.eraserSize);\n    const selectedPencilSize = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.brush.pencilSize);\n    const selectedPencilOpacity = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)((state)=>state.brush.pencilOpacity);\n    const [canvas, setCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [zoom, setZoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [relationshipX, setRelationshipX] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [relationshipY, setRelationshipY] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dragPosition, setDragPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [dragOffset, setDragOffset] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [zoomPositon, setZoomPositon] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"center\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const newCanvas = new fabric__WEBPACK_IMPORTED_MODULE_5__.fabric.Canvas(canvasRef.current, {\n            backgroundColor: \"white\",\n            width: 800,\n            height: 400,\n            isDrawingMode: true,\n            selection: false\n        });\n        setCanvas(newCanvas);\n        return ()=>{\n            newCanvas.dispose();\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (canvas) {\n            if (selectedTool === \"brush\") {\n                canvas.isDrawingMode = true;\n                const colorString = \"rgba(\".concat(selectedRGB[0], \", \").concat(selectedRGB[1], \", \").concat(selectedRGB[2], \", \").concat(selectedBrushOpacity / 100, \")\");\n                const PencilBrush = new fabric__WEBPACK_IMPORTED_MODULE_5__.fabric.PencilBrush(canvas);\n                canvas.freeDrawingBrush = PencilBrush;\n                PencilBrush.color = colorString;\n                ;\n                PencilBrush.width = selectedBrushSize;\n            } else if (selectedTool === \"pencil\") {\n                canvas.isDrawingMode = true;\n                const colorString = \"rgba(\".concat(selectedRGB[0], \", \").concat(selectedRGB[1], \", \").concat(selectedRGB[2], \", \").concat(selectedPencilOpacity / 100, \")\");\n                const PencilBrush = new fabric__WEBPACK_IMPORTED_MODULE_5__.fabric.PencilBrush(canvas);\n                canvas.freeDrawingBrush = PencilBrush;\n                PencilBrush.color = colorString;\n                PencilBrush.width = selectedPencilSize;\n                PencilBrush.strokeLineCap = \"square\";\n            } else if (selectedTool === \"eyedropper\") {\n                canvas.isDrawingMode = false;\n                canvas.getObjects().forEach((obj, index)=>{\n                    obj.evented = false;\n                });\n            } else if (selectedTool === \"eraser\") {\n                canvas.isDrawingMode = true;\n                const EraserBrush = new fabric__WEBPACK_IMPORTED_MODULE_5__.fabric.EraserBrush(canvas);\n                canvas.freeDrawingBrush = EraserBrush;\n                EraserBrush.width = selectedEraserSize;\n            } else if (selectedTool === \"move\") {\n                canvas.isDrawingMode = false;\n            }\n            const handleMouseDown = (e)=>{\n                if (selectedTool === \"eyedropper\") {\n                    const scaleX = window.devicePixelRatio;\n                    const scaleY = window.devicePixelRatio;\n                    const x = Math.floor(e.pointer.x * scaleX);\n                    const y = Math.floor(e.pointer.y * scaleY);\n                    const ctx = canvas.getContext(\"2d\");\n                    const imageData = ctx.getImageData(x, y, 1, 1).data;\n                    const pixelColor = Array.from(imageData);\n                    const newHSV = (0,_utils_rgbToHsv__WEBPACK_IMPORTED_MODULE_4__.rgbToHsv)(pixelColor[0], pixelColor[1], pixelColor[2]);\n                    dispatch((0,_store_actions_actionCreators__WEBPACK_IMPORTED_MODULE_3__.setRGB)(pixelColor, newHSV));\n                }\n                ;\n            };\n            canvas.on(\"mouse:down\", handleMouseDown);\n            return ()=>{\n                canvas.off(\"mouse:down\", handleMouseDown);\n            };\n        }\n    }, [\n        selectedTool,\n        selectedPencilOpacity,\n        selectedPencilSize,\n        selectedBrushSize,\n        selectedBrushOpacity,\n        selectedRGB,\n        selectedEraserSize\n    ]);\n    const handleWheel = (e)=>{\n        const currentZoom = zoom;\n        const rect = canvasRef.current.getBoundingClientRect();\n        const mouseX = Math.round((e.clientX - rect.left) / currentZoom);\n        const mouseY = Math.round((e.clientY - rect.top) / currentZoom);\n        const delta = e.deltaY;\n        const zoomSpeed = 1.1;\n        const newZoom = zoom * (delta > 0 ? 1 / zoomSpeed : zoomSpeed);\n        const minZoom = 0.5;\n        const maxZoom = 10;\n        const clampedZoom = Math.min(maxZoom, Math.max(minZoom, newZoom));\n        setZoom(clampedZoom);\n        setZoomPositon(\"\".concat(mouseX, \"px \").concat(mouseY, \"px\"));\n    };\n    const handleMouseDownForDrag = (e)=>{\n        if (selectedTool === \"move\") {\n            setIsDragging(true);\n            setDragOffset({\n                x: e.clientX - dragPosition.x,\n                y: e.clientY - dragPosition.y\n            });\n        }\n    };\n    const handleMouseMoveForDrag = (e)=>{\n        if (selectedTool === \"move\") {\n            if (isDragging) {\n                setDragPosition({\n                    x: e.clientX - dragOffset.x,\n                    y: e.clientY - dragOffset.y\n                });\n            }\n        }\n    };\n    const handleMouseUpForDrag = ()=>{\n        if (selectedTool === \"move\") {\n            setIsDragging(false);\n        }\n    };\n    const handleZoomUp = ()=>{\n        const zoomSpeed = 0.25;\n        const newZoom = zoom + zoomSpeed;\n        const minZoom = 0.5;\n        const maxZoom = 10;\n        const clampedZoom = Math.min(maxZoom, Math.max(minZoom, newZoom));\n        setZoom(clampedZoom);\n        setZoomPositon(\"center\");\n    };\n    const handleZoomDown = ()=>{\n        const zoomSpeed = 0.25;\n        const newZoom = zoom - zoomSpeed;\n        const minZoom = 0.5;\n        const maxZoom = 10;\n        const clampedZoom = Math.min(maxZoom, Math.max(minZoom, newZoom));\n        setZoom(clampedZoom);\n        setZoomPositon(\"center\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default().canvasContainer),\n        onWheel: handleWheel,\n        ref: canvasContainerRef,\n        onMouseDown: handleMouseDownForDrag,\n        onMouseMove: handleMouseMoveForDrag,\n        onMouseUp: handleMouseUpForDrag,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    transform: \"scale(\".concat(zoom, \") translate(\").concat(dragPosition.x, \"px, \").concat(dragPosition.y, \"px)\"),\n                    transformOrigin: \"\".concat(zoomPositon)\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                    className: (_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default().canvas),\n                    ref: canvasRef\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                    lineNumber: 165,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                lineNumber: 164,\n                columnNumber: 17\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default().zoomPercent),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: (_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default().zoomPercentBtn),\n                        onClick: handleZoomDown,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineMinusCircle_AiOutlinePlusCircle_react_icons_ai__WEBPACK_IMPORTED_MODULE_7__.AiOutlineMinusCircle, {\n                            size: 22\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                            lineNumber: 168,\n                            columnNumber: 88\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                        lineNumber: 168,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \" \",\n                            parseInt(zoom * 100, 10),\n                            \"% \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                        lineNumber: 169,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: (_styles_drawingCanvas_module_scss__WEBPACK_IMPORTED_MODULE_6___default().zoomPercentBtn),\n                        onClick: handleZoomUp,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AiOutlineMinusCircle_AiOutlinePlusCircle_react_icons_ai__WEBPACK_IMPORTED_MODULE_7__.AiOutlinePlusCircle, {\n                            size: 22\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                            lineNumber: 170,\n                            columnNumber: 86\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                        lineNumber: 170,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n                lineNumber: 167,\n                columnNumber: 17\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\sakan\\\\Documents\\\\drawing_app_nextjs\\\\pages\\\\drawing\\\\components\\\\DrawingCanvas.js\",\n        lineNumber: 162,\n        columnNumber: 12\n    }, this);\n}\n_s(CanvasApp, \"Cgeb3p8fEaMVrtz+uIpoI/NFRUI=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector,\n        react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector\n    ];\n});\n_c = CanvasApp;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CanvasApp);\nvar _c;\n$RefreshReg$(_c, \"CanvasApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9kcmF3aW5nL2NvbXBvbmVudHMvRHJhd2luZ0NhbnZhcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDSjtBQUNxQztBQUNuQztBQUNUO0FBQ2hCO0FBQzJDO0FBQzNFLDBCQUEwQjtBQUUxQixTQUFTYzs7SUFDTCxNQUFNQyxXQUFXVix3REFBV0E7SUFDNUIsTUFBTVcsWUFBWWYsNkNBQU1BLENBQUM7SUFDekIsTUFBTWdCLHFCQUFxQmhCLDZDQUFNQSxDQUFDO0lBQ2xDLE1BQU1pQixlQUFlZCx3REFBV0EsQ0FBQyxDQUFDZSxRQUFVQSxNQUFNQyxJQUFJLENBQUNGLFlBQVk7SUFDbkUsTUFBTUcsY0FBY2pCLHdEQUFXQSxDQUFDLENBQUNlLFFBQVVBLE1BQU1HLE1BQU0sQ0FBQ0QsV0FBVztJQUNuRSxNQUFNRSxXQUFXbkIsd0RBQVdBLENBQUMsQ0FBQ2UsUUFBVUEsTUFBTUcsTUFBTSxDQUFDQyxRQUFRO0lBQzdELE1BQU1DLG9CQUFvQnBCLHdEQUFXQSxDQUFDLENBQUNlLFFBQVVBLE1BQU1NLEtBQUssQ0FBQ0MsU0FBUztJQUN0RSxNQUFNQyx1QkFBdUJ2Qix3REFBV0EsQ0FBQyxDQUFDZSxRQUFVQSxNQUFNTSxLQUFLLENBQUNHLFlBQVk7SUFDNUUsTUFBTUMscUJBQXNCekIsd0RBQVdBLENBQUMsQ0FBQ2UsUUFBVUEsTUFBTU0sS0FBSyxDQUFDSyxVQUFVO0lBQ3pFLE1BQU1DLHFCQUFxQjNCLHdEQUFXQSxDQUFDLENBQUNlLFFBQVVBLE1BQU1NLEtBQUssQ0FBQ08sVUFBVTtJQUN4RSxNQUFNQyx3QkFBd0I3Qix3REFBV0EsQ0FBQyxDQUFDZSxRQUFVQSxNQUFNTSxLQUFLLENBQUNTLGFBQWE7SUFDOUUsTUFBTSxDQUFDWixRQUFRYSxVQUFVLEdBQUdoQywrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNpQyxNQUFNQyxRQUFRLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNtQyxlQUFlQyxpQkFB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RDtRQUN4RHJFLFFBQVF3RTtRQUNSMUQsZUFBZTtJQUNuQjtJQUVBLHFCQUFPLDhEQUFDa0U7UUFBSUMsV0FBVzdHLDBGQUFzQjtRQUFFK0csU0FBUzVCO1FBQWE2QixLQUFLeEc7UUFDOUR5RyxhQUFhVjtRQUF1QlcsYUFBYVY7UUFBd0JXLFdBQVdWOzswQkFDcEYsOERBQUNHO2dCQUFJUSxPQUFPO29CQUFFQyxXQUFXLFNBQTRCbEYsT0FBbkJSLE1BQUssZ0JBQW1DUSxPQUFyQkEsYUFBYUUsQ0FBQyxFQUFDLFFBQXFCLE9BQWZGLGFBQWFHLENBQUMsRUFBQztvQkFBTWdGLGlCQUFpQixHQUFlLE9BQVo3RTtnQkFBYzswQkFDN0gsNEVBQUM1QjtvQkFBT2dHLFdBQVc3RyxpRkFBYTtvQkFBRWdILEtBQUt6Rzs7Ozs7Ozs7Ozs7MEJBRTNDLDhEQUFDcUc7Z0JBQUlDLFdBQVc3RyxzRkFBa0I7O2tDQUM5Qiw4REFBQ3dIO3dCQUFPWCxXQUFXN0cseUZBQXFCO3dCQUFFMEgsU0FBU2Y7a0NBQWdCLDRFQUFDdkcsZ0lBQW9CQTs0QkFBQ3VILE1BQU07Ozs7Ozs7Ozs7O2tDQUMvRiw4REFBQ2Y7OzRCQUFJOzRCQUFFZ0IsU0FBU2pHLE9BQU8sS0FBSzs0QkFBSTs7Ozs7OztrQ0FDaEMsOERBQUM2Rjt3QkFBT1gsV0FBVzdHLHlGQUFxQjt3QkFBRTBILFNBQVNoQjtrQ0FBYyw0RUFBQ3ZHLCtIQUFtQkE7NEJBQUN3SCxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdoSDtHQW5LU3RIOztRQUNZVCxvREFBV0E7UUFHUEQsb0RBQVdBO1FBQ1pBLG9EQUFXQTtRQUNkQSxvREFBV0E7UUFDRkEsb0RBQVdBO1FBQ1JBLG9EQUFXQTtRQUNaQSxvREFBV0E7UUFDWkEsb0RBQVdBO1FBQ1JBLG9EQUFXQTs7O0tBWHBDVTtBQW9LVCwrREFBZUEsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9kcmF3aW5nL2NvbXBvbmVudHMvRHJhd2luZ0NhbnZhcy5qcz9iOTM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgc2V0UkdCLCBzdGFydFBhaW50aW5nLCBzdG9wUGFpbnRpbmcgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9hY3Rpb25zL2FjdGlvbkNyZWF0b3JzJztcclxuaW1wb3J0IHN0eWxlcyAgZnJvbSAnLi4vc3R5bGVzL2RyYXdpbmdDYW52YXMubW9kdWxlLnNjc3MnIFxyXG5pbXBvcnQge3JnYlRvSHN2fSBmcm9tICcuLi8uLi8uLi91dGlscy9yZ2JUb0hzdidcclxuaW1wb3J0IHsgZmFicmljIH0gZnJvbSAnZmFicmljJztcclxuaW1wb3J0IHsgQWlPdXRsaW5lUGx1c0NpcmNsZSwgQWlPdXRsaW5lTWludXNDaXJjbGUgfSBmcm9tICdyZWFjdC1pY29ucy9haSc7XHJcbi8vIGltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG5mdW5jdGlvbiBDYW52YXNBcHAoKSB7XHJcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XHJcbiAgICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBjYW52YXNDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBzZWxlY3RlZFRvb2wgPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLnRvb2wuc2VsZWN0ZWRUb29sKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkUkdCID0gdXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5jYW52YXMuc2VsZWN0ZWRSR0IpO1xyXG4gICAgY29uc3QgcGFpbnRpbmcgPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmNhbnZhcy5wYWludGluZyk7XHJcbiAgICBjb25zdCBzZWxlY3RlZEJydXNoU2l6ZSA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuYnJ1c2guYnJ1c2hTaXplKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkQnJ1c2hPcGFjaXR5ID0gdXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5icnVzaC5icnVzaE9wYWNpdHkpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRFcmFzZXJTaXplICA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuYnJ1c2guZXJhc2VyU2l6ZSk7XHJcbiAgICBjb25zdCBzZWxlY3RlZFBlbmNpbFNpemUgPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmJydXNoLnBlbmNpbFNpemUpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQZW5jaWxPcGFjaXR5ID0gdXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5icnVzaC5wZW5jaWxPcGFjaXR5KTtcclxuICAgIGNvbnN0IFtjYW52YXMsIHNldENhbnZhc10gPSB1c2VTdGF0ZShudWxsKTtcclxuICAgIGNvbnN0IFt6b29tLCBzZXRab29tXSA9IHVzZVN0YXRlKDEpO1xyXG4gICAgY29uc3QgW3JlbGF0aW9uc2hpcFgsIHNldFJlbGF0aW9uc2hpcFhdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBbcmVsYXRpb25zaGlwWSwgc2V0UmVsYXRpb25zaGlwWV0gPSB1c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IFtkcmFnUG9zaXRpb24sIHNldERyYWdQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgICBjb25zdCBbZHJhZ09mZnNldCwgc2V0RHJhZ09mZnNldF0gPSB1c2VTdGF0ZSh7IHg6IDAsIHk6IDAgfSk7XHJcbiAgICBjb25zdCBbem9vbVBvc2l0b24sIHNldFpvb21Qb3NpdG9uXSA9IHVzZVN0YXRlKFwiY2VudGVyXCIpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FudmFzICA9IG5ldyBmYWJyaWMuQ2FudmFzKGNhbnZhc1JlZi5jdXJyZW50LCB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcclxuICAgICAgICAgICAgd2lkdGg6IDgwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MDAsXHJcbiAgICAgICAgICAgIGlzRHJhd2luZ01vZGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0Q2FudmFzKG5ld0NhbnZhcyk7XHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIG5ld0NhbnZhcy5kaXNwb3NlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtdKTtcclxuICAgIFxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFRvb2wgPT09ICdicnVzaCcpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yU3RyaW5nID0gYHJnYmEoJHtzZWxlY3RlZFJHQlswXX0sICR7c2VsZWN0ZWRSR0JbMV19LCAke3NlbGVjdGVkUkdCWzJdfSwgJHtzZWxlY3RlZEJydXNoT3BhY2l0eSAvIDEwMH0pYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFBlbmNpbEJydXNoID0gbmV3IGZhYnJpYy5QZW5jaWxCcnVzaChjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2ggPSBQZW5jaWxCcnVzaDtcclxuICAgICAgICAgICAgICAgIFBlbmNpbEJydXNoLmNvbG9yID0gY29sb3JTdHJpbmc7O1xyXG4gICAgICAgICAgICAgICAgUGVuY2lsQnJ1c2gud2lkdGggPSBzZWxlY3RlZEJydXNoU2l6ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkVG9vbCA9PT0gJ3BlbmNpbCcpe1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JTdHJpbmcgPSBgcmdiYSgke3NlbGVjdGVkUkdCWzBdfSwgJHtzZWxlY3RlZFJHQlsxXX0sICR7c2VsZWN0ZWRSR0JbMl19LCAke3NlbGVjdGVkUGVuY2lsT3BhY2l0eSAvIDEwMH0pYDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFBlbmNpbEJydXNoID0gbmV3IGZhYnJpYy5QZW5jaWxCcnVzaChjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2ggPSBQZW5jaWxCcnVzaDtcclxuICAgICAgICAgICAgICAgIFBlbmNpbEJydXNoLmNvbG9yID0gY29sb3JTdHJpbmc7XHJcbiAgICAgICAgICAgICAgICBQZW5jaWxCcnVzaC53aWR0aCA9IHNlbGVjdGVkUGVuY2lsU2l6ZTtcclxuICAgICAgICAgICAgICAgIFBlbmNpbEJydXNoLnN0cm9rZUxpbmVDYXAgPSAnc3F1YXJlJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFRvb2wgPT09ICdleWVkcm9wcGVyJykge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRPYmplY3RzKCkuZm9yRWFjaCgob2JqLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5ldmVudGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkVG9vbCA9PT0gJ2VyYXNlcicpe1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgRXJhc2VyQnJ1c2ggPSBuZXcgZmFicmljLkVyYXNlckJydXNoKGNhbnZhcylcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoID0gRXJhc2VyQnJ1c2g7XHJcbiAgICAgICAgICAgICAgICBFcmFzZXJCcnVzaC53aWR0aCA9IHNlbGVjdGVkRXJhc2VyU2l6ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkVG9vbCA9PT0gJ21vdmUnKXtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRUb29sID09PSAnZXllZHJvcHBlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZVggPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZVkgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcigoZS5wb2ludGVyLngpICogc2NhbGVYKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcigoZS5wb2ludGVyLnkpICogc2NhbGVZKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxDb2xvciA9IEFycmF5LmZyb20oaW1hZ2VEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdIU1YgPSByZ2JUb0hzdihwaXhlbENvbG9yWzBdLCBwaXhlbENvbG9yWzFdLCBwaXhlbENvbG9yWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChzZXRSR0IocGl4ZWxDb2xvciwgbmV3SFNWKSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgY2FudmFzLm9uKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMub2ZmKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSAgIFxyXG4gICAgfSwgW3NlbGVjdGVkVG9vbCxzZWxlY3RlZFBlbmNpbE9wYWNpdHksIHNlbGVjdGVkUGVuY2lsU2l6ZSwgc2VsZWN0ZWRCcnVzaFNpemUsIHNlbGVjdGVkQnJ1c2hPcGFjaXR5LCBzZWxlY3RlZFJHQiwgc2VsZWN0ZWRFcmFzZXJTaXplXSk7XHJcblxyXG4gICAgY29uc3QgaGFuZGxlV2hlZWwgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRab29tID0gem9vbTtcclxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgbW91c2VYID0gTWF0aC5yb3VuZCgoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIGN1cnJlbnRab29tKTtcclxuICAgICAgICBjb25zdCBtb3VzZVkgPSBNYXRoLnJvdW5kKChlLmNsaWVudFkgLSByZWN0LnRvcCkgLyBjdXJyZW50Wm9vbSk7XHJcbiAgICAgICAgY29uc3QgZGVsdGEgPSBlLmRlbHRhWTtcclxuICAgICAgICBjb25zdCB6b29tU3BlZWQgPSAxLjE7XHJcbiAgICAgICAgY29uc3QgbmV3Wm9vbSA9IHpvb20gKiAoZGVsdGEgPiAwID8gMSAvIHpvb21TcGVlZCA6IHpvb21TcGVlZCk7XHJcbiAgICAgICAgY29uc3QgbWluWm9vbSA9IDAuNTtcclxuICAgICAgICBjb25zdCBtYXhab29tID0gMTA7XHJcbiAgICAgICAgY29uc3QgY2xhbXBlZFpvb20gPSBNYXRoLm1pbihtYXhab29tLCBNYXRoLm1heChtaW5ab29tLCBuZXdab29tKSk7XHJcbiAgICAgICAgc2V0Wm9vbShjbGFtcGVkWm9vbSk7XHJcbiAgICAgICAgc2V0Wm9vbVBvc2l0b24oYCR7bW91c2VYfXB4ICR7bW91c2VZfXB4YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93bkZvckRyYWcgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmKHNlbGVjdGVkVG9vbCA9PT0gJ21vdmUnKXtcclxuICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcclxuICAgICAgICAgICAgc2V0RHJhZ09mZnNldCh7XHJcbiAgICAgICAgICAgICAgICB4OiBlLmNsaWVudFggLSBkcmFnUG9zaXRpb24ueCxcclxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WSAtIGRyYWdQb3NpdGlvbi55XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlRm9yRHJhZyA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYoc2VsZWN0ZWRUb29sID09PSAnbW92ZScpe1xyXG4gICAgICAgICAgICBpZiAoaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICAgICAgc2V0RHJhZ1Bvc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCAtIGRyYWdPZmZzZXQueCxcclxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WSAtIGRyYWdPZmZzZXQueVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXBGb3JEcmFnID0gKCkgPT4ge1xyXG4gICAgICAgIGlmKHNlbGVjdGVkVG9vbCA9PT0gJ21vdmUnKXtcclxuICAgICAgICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVab29tVXAgPSAoKSA9PntcclxuICAgICAgICBjb25zdCB6b29tU3BlZWQgPSAwLjI1O1xyXG4gICAgICAgIGNvbnN0IG5ld1pvb20gPSB6b29tICsgem9vbVNwZWVkO1xyXG4gICAgICAgIGNvbnN0IG1pblpvb20gPSAwLjU7XHJcbiAgICAgICAgY29uc3QgbWF4Wm9vbSA9IDEwO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWRab29tID0gTWF0aC5taW4obWF4Wm9vbSwgTWF0aC5tYXgobWluWm9vbSwgbmV3Wm9vbSkpO1xyXG4gICAgICAgIHNldFpvb20oY2xhbXBlZFpvb20pO1xyXG4gICAgICAgIHNldFpvb21Qb3NpdG9uKFwiY2VudGVyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZVpvb21Eb3duID0gKCkgPT57XHJcbiAgICAgICAgY29uc3Qgem9vbVNwZWVkID0gMC4yNTtcclxuICAgICAgICBjb25zdCBuZXdab29tID0gem9vbSAtIHpvb21TcGVlZDtcclxuICAgICAgICBjb25zdCBtaW5ab29tID0gMC41O1xyXG4gICAgICAgIGNvbnN0IG1heFpvb20gPSAxMDtcclxuICAgICAgICBjb25zdCBjbGFtcGVkWm9vbSA9IE1hdGgubWluKG1heFpvb20sIE1hdGgubWF4KG1pblpvb20sIG5ld1pvb20pKTtcclxuICAgICAgICBzZXRab29tKGNsYW1wZWRab29tKTtcclxuICAgICAgICBzZXRab29tUG9zaXRvbihcImNlbnRlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jYW52YXNDb250YWluZXJ9IG9uV2hlZWw9e2hhbmRsZVdoZWVsfSByZWY9e2NhbnZhc0NvbnRhaW5lclJlZn0gXHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlTW91c2VEb3duRm9yRHJhZ31vbk1vdXNlTW92ZT17aGFuZGxlTW91c2VNb3ZlRm9yRHJhZ30gb25Nb3VzZVVwPXtoYW5kbGVNb3VzZVVwRm9yRHJhZ30+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRyYW5zZm9ybTogYHNjYWxlKCR7em9vbX0pIHRyYW5zbGF0ZSgke2RyYWdQb3NpdGlvbi54fXB4LCAke2RyYWdQb3NpdGlvbi55fXB4KWAsIHRyYW5zZm9ybU9yaWdpbjogYCR7em9vbVBvc2l0b259YCB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8Y2FudmFzIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc30gcmVmPXtjYW52YXNSZWZ9ICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnpvb21QZXJjZW50fT5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLnpvb21QZXJjZW50QnRufSBvbkNsaWNrPXtoYW5kbGVab29tRG93bn0+PEFpT3V0bGluZU1pbnVzQ2lyY2xlIHNpemU9ezIyfS8+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj4ge3BhcnNlSW50KHpvb20gKiAxMDAsIDEwKX0lIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMuem9vbVBlcmNlbnRCdG59IG9uQ2xpY2s9e2hhbmRsZVpvb21VcH0+PEFpT3V0bGluZVBsdXNDaXJjbGUgc2l6ZT17MjJ9IC8+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzQXBwOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlU2VsZWN0b3IiLCJ1c2VEaXNwYXRjaCIsInNldFJHQiIsInN0YXJ0UGFpbnRpbmciLCJzdG9wUGFpbnRpbmciLCJzdHlsZXMiLCJyZ2JUb0hzdiIsImZhYnJpYyIsIkFpT3V0bGluZVBsdXNDaXJjbGUiLCJBaU91dGxpbmVNaW51c0NpcmNsZSIsIkNhbnZhc0FwcCIsImRpc3BhdGNoIiwiY2FudmFzUmVmIiwiY2FudmFzQ29udGFpbmVyUmVmIiwic2VsZWN0ZWRUb29sIiwic3RhdGUiLCJ0b29sIiwic2VsZWN0ZWRSR0IiLCJjYW52YXMiLCJwYWludGluZyIsInNlbGVjdGVkQnJ1c2hTaXplIiwiYnJ1c2giLCJicnVzaFNpemUiLCJzZWxlY3RlZEJydXNoT3BhY2l0eSIsImJydXNoT3BhY2l0eSIsInNlbGVjdGVkRXJhc2VyU2l6ZSIsImVyYXNlclNpemUiLCJzZWxlY3RlZFBlbmNpbFNpemUiLCJwZW5jaWxTaXplIiwic2VsZWN0ZWRQZW5jaWxPcGFjaXR5IiwicGVuY2lsT3BhY2l0eSIsInNldENhbnZhcyIsInpvb20iLCJzZXRab29tIiwicmVsYXRpb25zaGlwWCIsInNldFJlbGF0aW9uc2hpcFgiLCJyZWxhdGlvbnNoaXBZIiwic2V0UmVsYXRpb25zaGlwWSIsImlzRHJhZ2dpbmciLCJzZXRJc0RyYWdnaW5nIiwiZHJhZ1Bvc2l0aW9uIiwic2V0RHJhZ1Bvc2l0aW9uIiwieCIsInkiLCJkcmFnT2Zmc2V0Iiwic2V0RHJhZ09mZnNldCIsInpvb21Qb3NpdG9uIiwic2V0Wm9vbVBvc2l0b24iLCJuZXdDYW52YXMiLCJDYW52YXMiLCJjdXJyZW50IiwiYmFja2dyb3VuZENvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJpc0RyYXdpbmdNb2RlIiwic2VsZWN0aW9uIiwiZGlzcG9zZSIsImNvbG9yU3RyaW5nIiwiUGVuY2lsQnJ1c2giLCJmcmVlRHJhd2luZ0JydXNoIiwiY29sb3IiLCJzdHJva2VMaW5lQ2FwIiwiZ2V0T2JqZWN0cyIsImZvckVhY2giLCJvYmoiLCJpbmRleCIsImV2ZW50ZWQiLCJFcmFzZXJCcnVzaCIsImhhbmRsZU1vdXNlRG93biIsImUiLCJzY2FsZVgiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwic2NhbGVZIiwiTWF0aCIsImZsb29yIiwicG9pbnRlciIsImN0eCIsImdldENvbnRleHQiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwicGl4ZWxDb2xvciIsIkFycmF5IiwiZnJvbSIsIm5ld0hTViIsIm9uIiwib2ZmIiwiaGFuZGxlV2hlZWwiLCJjdXJyZW50Wm9vbSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3VzZVgiLCJyb3VuZCIsImNsaWVudFgiLCJsZWZ0IiwibW91c2VZIiwiY2xpZW50WSIsInRvcCIsImRlbHRhIiwiZGVsdGFZIiwiem9vbVNwZWVkIiwibmV3Wm9vbSIsIm1pblpvb20iLCJtYXhab29tIiwiY2xhbXBlZFpvb20iLCJtaW4iLCJtYXgiLCJoYW5kbGVNb3VzZURvd25Gb3JEcmFnIiwiaGFuZGxlTW91c2VNb3ZlRm9yRHJhZyIsImhhbmRsZU1vdXNlVXBGb3JEcmFnIiwiaGFuZGxlWm9vbVVwIiwiaGFuZGxlWm9vbURvd24iLCJkaXYiLCJjbGFzc05hbWUiLCJjYW52YXNDb250YWluZXIiLCJvbldoZWVsIiwicmVmIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsInN0eWxlIiwidHJhbnNmb3JtIiwidHJhbnNmb3JtT3JpZ2luIiwiem9vbVBlcmNlbnQiLCJidXR0b24iLCJ6b29tUGVyY2VudEJ0biIsIm9uQ2xpY2siLCJzaXplIiwicGFyc2VJbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/drawing/components/DrawingCanvas.js\n"));

/***/ })

});